{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "git: auto pull on open",
      "type": "shell",
      "command": "echo",
      "args": ["Skipping auto-pull on this OS"],
      "runOptions": { "runOn": "folderOpen" },
      "presentation": { "reveal": "silent", "clear": true },
      "problemMatcher": [],
      "osx": {
        "command": "zsh",
        "args": [
          "-lc",
          "[ -d .git ] || exit 0; if [ -z \"$(git status --porcelain)\" ]; then git fetch --all --prune --tags && git pull --rebase --autostash; else echo \"Working tree not clean; skipping auto-pull\"; fi"
        ]
      },
      "linux": {
        "command": "bash",
        "args": [
          "-lc",
          "[ -d .git ] || exit 0; if [ -z \"$(git status --porcelain)\" ]; then git fetch --all --prune --tags && git pull --rebase --autostash; else echo \"Working tree not clean; skipping auto-pull\"; fi"
        ]
      }
    }
  ]
}

